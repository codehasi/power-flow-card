<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Assistant Custom Card Development</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 20px;
        }
    </style>
</head>
<body>
    <dynamic-power-flow-card id="powerFlow"></dynamic-power-flow-card>
    <script src="/dynamic-power-flow-card.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const card = document.getElementById('powerFlow');
            card.setConfig({
                sources: [
                    {
                        id: 'solar1',
                        type: 'solar',
                        name: 'Solar Panels 1',
                        power: 2500,
                        connections: [
                            { fromId: 'solar1', toId: 'battery1', power: 1000 }
                        ]
                    },
                    {
                        id: 'solar2',
                        type: 'solar',
                        name: 'Solar Panels 2',
                        power: 1800,
                        connections: [
                            { fromId: 'solar2', toId: 'battery1', power: 800 }
                        ]
                    },
                    {
                        id: 'grid1',
                        type: 'grid',
                        name: 'Grid',
                        power: -1000,
                        connections: [
                            { fromId: 'grid1', toId: 'battery2', power: 500 }
                        ]
                    },
                    {
                        id: 'battery1',
                        type: 'battery',
                        name: 'Home Battery',
                        power: -1800
                    },
                    {
                        id: 'battery2',
                        type: 'battery',
                        name: 'EV Battery',
                        power: -500
                    }
                ],
                consumers: [
                    {
                        id: 'house1',
                        name: 'Main House',
                        power: 800
                    },
                    {
                        id: 'ev1',
                        name: 'EV Charger',
                        power: 200
                    },
                    {
                        id: 'ac1',
                        name: 'AC System',
                        power: 1500
                    }
                ],
                showSourceConnections: true,
                animationSpeed: 2,
                width: 800,
                height: 400
            });
        });
    </script>
</body>
</html>
